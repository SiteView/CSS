<?xml version='1.0' encoding='iso-8859-1'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de" lang="de" dir="ltr">

<head>
	<meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"/>
	<title>SNL Debugger</title>
</head>

<body>

<h1><a name="contents">Contents</a></h1>
<ul>
<li> <a href="#overview">Overview</a></li>
<li> <a href="#launch">Launch SNL Debugger</a></li>
<li> <a href="#varialbe">Operate a variable</a></li>
<li> <a href="#stateset">Operate a state set</a></li>
<li> <a href="#snlReport">Report the status of SNLEXEC and running state programs</a></li>
<li> <a href="#snlAction">Control the behavior of SNLEXEC and running state programs</a></li>
</ul>
<hr />

<h2><a name="overview">Overview</a></h2>
<p>
Der SNL-Debugger ist ein Werkzeug zur Diagnose der laufenden State-Programme und zur Verwaltung von PRR SNLEXEC.
Es kann Info von einem laufenden State-Programm abfragen, z.B. auflisten der State Sets und Variablen Sets
(sowohl zugewiesene als auch nicht zugewiesene), holen und setzen des Wertes einer Variablen, springen
in jeden Zustand eines State-Set, steuern des State-Set-Run-Modus: normal/suspended/single step.
Es kann auch ein laufendes State-Programm stoppen oder ein neues State-Programm starten, wenn dieses 
&uuml;bersetzt und in den IOC geladen ist.<br /><br />
Das folgende Bild zeigt das Interface des CSS-SNL-Debuggers. 

Der linke Bereich ist eine Baumstruktur und der rechte Bereich zeigt die Details f&uuml;r die ausgew&auml;hlten Knoten.
Einige allgemeine Infos stehen oben im rechten Bereich.<br /> 
<object>
<ul>
 <li>"Request Status" zeigt das Ergebnis einer Anfrage. War die Anfrage erfolgreich, wird SUCCESS angezeigt,
andernfalls FAILED.</li>
 <li> "Driver Name" ist der Name eines RMT oder PRR.</li>
 <li> "Driver Status" steht in Beziehung mit dem IOC-State und dem Driver-Namen;
 ist MASTER oder SLAVE, wenn der IOC Master oder Slave und der Driver-Name RMT ist;
 ist "active" oder "inactive", wenn  der IOC Master oder Slave und der Driver-Name PRR ist.</li>
 <li> "Internal Status" zeigt den aktuellen Synchronisationsstatus der PRR.</li>   
 </ul>
</object>
<img src="snlDebugger_01.PNG" alt="" border="0" vspace="5" /><br />
</p>

<h3><a href="#contents">Return to Contents</a></h3>
<hr />

<p ><br /> </p>

<h2><a name="launch">Launch SNL Debugger</a></h2>
<p>
 Der SNL Debugger ist ein Teil des IOCremoteManagement. kann aus dem CSS-Menu gestartet werden:
 CSS->Diagnostic Tools->IOCremoteManagement. Zuerst wird links eine Liste von IOC-IP-Adressen gezeigt.
 IP-Adressen sind konfigurierbar. Die im folgenden Bild gezeigten zwei IP-Adressen bilden ein redundantes IOC-Paar.<br />

<img src="snlDebugger_02.PNG" alt="" border="0" vspace="15" />
<br /><br />
Nach dem Anklicken einer IP-Adresse werden zwei Zweige gezeigt: rmtManagement und snlDebugger.
rmtManagement steht f&uuml;r RMT Management, wird hier nicht beschrieben; snlDebugger steht f&uuml;r SNL Debugger.<br /> 
<img src="snlDebugger_03.PNG" alt="" border="0" vspace="15" />
<br /><br />
Nach dem Anklicken von snlDebugger verden drei Unterzweige und ein Blatt dargestellt :
snlListSP, snlReport und snlAction. Jeder Unterzweig hat seinen eigenen Unterzweig oder sein eigenes Blatt.
 snlListSP dient zum Auflisten aller laufenden State-Programe.
 snlReport ist eine Kommando-Sammlung zum Report des Status von SNLEXEC und der laufenden State-Programme. 
 snlAction ist eine Kommando-Sammlung zum Steuern des Verhaltens control the behavior related to SNLEXEC (???) und der 
 laufenden State-Programme. Die Details zu jedem Kommando werden in anderen Kapiteln beschrieben.<br />	
<img src="snlDebugger_04.PNG" alt="" border="0" vspace="15" />
</p>

<h3><a href="#contents">Return to Contents</a></h3>
<hr />

<p ><br /> </p>

<h2><a name="varialbe">Operate a variable</a></h2>
<p>
Man kann leicht eine Liste aller Variablen eines State-Programms aus dem Baum erhalten.
Statistic Info wird auf der rechten Seite des Interface gezeigt.
<object>
 <ul>
 <li>"numVars" ist die Anzahl der Variablen, sowohl der assigned als auch der non-assigned Varaiablen.</li>
 <li>"numChans" ist die Kanal-Nummer.</li>
 <li>"assignCount" ist die Anzahl der "assigned" Variablen.</li>
 <li>"connCount" ist die Anzahl der verbundenen Kan&auml;le.</li>
</ul>
</object>
<img src="snlDebugger_05.PNG" alt="" border="0" vspace="5" />	

<br /><br />
Es werden drei Eigenschaften f&uuml;r nicht-assigned Variablen gezeigt: assigned, type und value.<br />
<img src="snlDebugger_06.PNG" alt="" border="0" vspace="15" />	
<br /><br />
Wenn der IOV Master ist, k&ouml;nnen Variablenwerte direkt ge&auml;ndert werden; ansonsten erscheint eine 
entsprechende Warnmeldung.<br />
<img src="snlDebugger_07.PNG" alt="" border="0" vspace="15" />	
<br /><br />
Ein oder mehrere Eigenschaften werden f&uuml;r assigned Variablen gezeigt: dbName.<br />
<img src="snlDebugger_08.PNG" alt="" border="0" vspace="15" />	
<br /><br />
Nach Auswahl eines Record-Namen kann durch Rechtsklick ein Popup-Menu ge&ouml;ffnet werden.<br />
<img src="snlDebugger_09.PNG" alt="" border="0" vspace="15" />	
<br /><br />
Man kann den CSS application Data Browser benutzen, um die Historie eines Records zu zeigen.<br />
<img src="snlDebugger_10.PNG" alt="" border="0" vspace="15" />	
</p>

<h3><a href="#contents">Return to Contents</a></h3>
<hr />

<p ><br /> </p>

<h2><a name="stateset">Operate a state set</a></h2>
<p>
Es gibt acht Eigenschaften f&uuml;r den State-Set : threadName, ssRunControl, dbgRunState,
 firstState, currentState, previousState, nextState und Msg. Es gibt Combo-Boxen f&uuml;r die
 Eigenschaften ssRunControl und currentState.<br />
<img src="snlDebugger_11.PNG" alt="" border="0" vspace="15" />	
<br /><br />
Man kann durch Auswahl in der currentState's Combo-Box zu jedem State des State-Sets springen,
vorausgesetzt, dass der IOC Master ist und der dbgRunState RUNNING ist.<br />
<img src="snlDebugger_12.PNG" alt="" border="0" vspace="15" />	
<br /><br />
Man kann den State-Set-Run-Mode &uuml;ber die ssRunControl-Combo-Box steuern,
vorausgesetzt, dass der IOC Master ist. dbgRunState sollte STOPPED f&uuml;r den Single-Step-Mode sein.<br />
<img src="snlDebugger_13.PNG" alt="" border="0" vspace="15" />	
</p>

<h3><a href="#contents">Return to Contents</a></h3>
<hr />

<p ><br /> </p>

<h2><a name="snlReport">Report the status of SNLEXEC and running state programs</a></h2>
<p>
Es gibt vier Kommandos zum Report des Status von SNLEXEC und den laufenden State-Programmen:
 snlTransStatReport, snlShowAllSP, snlShowSync, snlShowTuningTime.<br /><br />
snlTransStatReport dient zum Report der Datentransferstatistik zwischen Master-IOC und Slave-IOC.<br />
 "FullUpdateCount" ist die Anzahl der Updates.<br /> 
 "LastFullCycleTime" ist die Gesamt&uuml;bertragungszeit f&uuml;r das letzte Update.<br /> 
 "LastFullSendCount" ist die Anzahl der gesendete Pakete f&uuml;r das letzte Update.<br /> 
 "LastFullSendBytes" ist die Anzahl der insgesamt gesendeten Bytes des letzten Updates.<br />  
 Die Eigenschaften links sind leicht zu verstehen.<br /> 
<img src="snlDebugger_14.PNG" alt="" border="0" vspace="15" />	
<br /><br />
snlShowAllSP dient zum Anzeigen von Thread-ID, Thread-Name and State-Set-Name f&uuml;r die laufenden State-Programe.
<img src="snlDebugger_15.PNG" alt="" border="0" vspace="15" />	
<br /><br />
snlShowSync dient zum Anzeigen des Synchronization-Status. Die Synchronization ist ON, wenn snlsyncHold FALSE ist,
ansonsten ist sie OFF.<br />
<img src="snlDebugger_16.PNG" alt="" border="0" vspace="15" />	
<br /><br />
snlShowTuningTime zeigt einige Tuning-Time-Settings.
 "snlUpdatePeriod" ist die Update-Periode, ist aktuell auf 1.0 Sekunde eingestellt.
 Die ï¿½n Time-Settings k&ouml;nnen von SNL-Debugger-Benutzern ignoriert werden.<br />
<img src="snlDebugger_17.PNG" alt="" border="0" vspace="15" />	
</p>

<h3><a href="#contents">Return to Contents</a></h3>
<hr />

<p ><br /> </p>

<h2><a name="snlAction">Control the behavior of SNLEXEC and running state programs</a></h2>
<p>
Es gibt f&uuml;nf Kommandos zum Report des Status f&uuml;r snlEXEC und die laufenden State-Programe:
 snlStopSync, snlStartSync, seqStop, seq, snlRebuildSprogEntry.
<br /><br />
snlStopSync dient zum Stoppen der Synchronisation.<br />
<img src="snlDebugger_18.PNG" alt="" border="0" vspace="15" />	
<br /><br />
snlStartSync dient zum Starten der Synchronisation.<br />
<img src="snlDebugger_19.PNG" alt="" border="0" vspace="15" />	
<br /><br />
seqStop dient zum Stoppen eines laufenden State-Programms. Vorher muss die Synchronisation gestoppt werden.
Man sollte den Knopf "call it" anklicken, nachdem man den Thread mit der entsprechenden Combo-Box ausgew&auml;hlt hat.<br />
<img src="snlDebugger_20.PNG" alt="" border="0" vspace="15" />	
<br /><br />
Mit dem Kommando snlShowAllSP kann man das Ergebnis checken. Der Thread-ID steht jetzt mit dem State-Programm "sncGliu" 
in Beziehung und man kann sehen, dass das State-Programm verschwunden ist. <br />
<img src="snlDebugger_21.PNG" alt="" border="0" vspace="15" />	
<br /><br />
seq dient zum Start eines neuen State-Programms. Voraussetztungen sind, dass das State-Programm &uuml;bersetzt und die Synchonisation
gestoppt ist. Man sollte den Knopf "call it" anklicken, nachdem man spName, macrosStr and stackSize eingegeben hat.
macrosStr und stackSize sind optional.<br />
<img src="snlDebugger_22.PNG" alt="" border="0" vspace="15" />	
<br /><br />
Man kann das Kommando snlShowAllSP benutzen, um das Ergebnis in &auml;hnlicher Weise zu checken.
Wieder wird das State-Program "sncGliu" gezeigt. <br />
<img src="snlDebugger_23.PNG" alt="" border="0" vspace="15" />	
<br /><br />
snlRebuildSprogEntry  dient zum Rebuild der State-Program-Entry-Tabelle.  Voraussetztung ist, dass die Synchronisation
gestoppt ist. Normalerweise brauch man dieses Kommando nicht.<br />
<img src="snlDebugger_24.PNG" alt="" border="0" vspace="15" />
</p>

<h3><a href="#contents">Return to Contents</a></h3>
<hr />
	
</body>
</html>