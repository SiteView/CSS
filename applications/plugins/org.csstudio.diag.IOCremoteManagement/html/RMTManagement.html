<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<title>RMT Management</title>
</head>

<body>
<h1><a name="contents">Contents</a></h1>
<ul>
<li> <a href="#overview">Overview</a></li>
<li> <a href="#launch">Launch RMT Management</a></li>
<li> <a href="#command">RMT Command List</a></li>
<li> <a href="#PRR">PRR List</a></li>
<li> <a href="#config">Configuration Info</a></li>
<li> <a href="#partner">Partner Info</a></li>
</ul>
<hr>

<h2><a name="overview">Overview</a></h2>
RMT Management is a tool to manage Redundancy Monitor Task(RMT). It can show the general information 
of RMT, e.g. RMT state(MASTER or SLAVE), Ethernet connection status, Primary Redundancy Resources(PRR)
number, etc. It can also show the configuration info and its partner's info. Some RMT commands can be issued
from RMT Management. PRR list can be shown, and the deeper info about each PRR can also be shown.<br><br> 
The following figure is the interface of CSS RMT Management. The left part is a tree structure and
 right part shows the details related to the selected node.Some genenral info are shown on the top
 of right side.<br> 
 <ul>
 <li>"Request Status" is the result of the request. It is SUCCESS if the request is successful,
otherwise is FAILED.</li>
 <li> "Driver Name" is RMT or PRR name.</li>
 <li> "Driver Status" is related to the IOC state and Driver Name. It is MASTER or SLAVE when IOC is
  master or slave and Driver Name is RMT. It is active or inactive when IOC is master or slave and
  Driver Name is PRR name.</li>
 <li> "Internal Status" shows the synchronization status of PRR at present.</li>   
 </ul>
<img src="rmtManagement_01.PNG" alt="blank" border="0" vspace=5><br>
<h3><a href="#contents">Return to Contents</a></h3>
<hr>

<br>	
<h2><a name="launch">Launch RMT Management</a></h2>
RMT Management is a part of IOCremoteManagement. IOCremoteManagement can be launched from CSS menu
 CSS->Diagnostic Tools->IOCremoteManagement. A list of IOC IP addresses is shown on the left of
 the interface at the beginning. IP addresses are configurable.  Two IOC addresses are shown in
 the following figure and these two IOCs form a redundant IOC pair.<br>
<img src="rmtManagement_02.PNG" alt="blank" border="0" vspace=15>
<br><br>
After clicking an IP address, two branches are shown: rmtManagement and snlDebugger. rmtManagement is 
for RMT management; snlDebugger is for SNL Debugger and is not discussed here.<br> 
<img src="rmtManagement_03.PNG" alt="blank" border="0" vspace=15>
<br><br>
After clicking rmtManagement, three sub-branches and one leaf are shown : ShowCommandList,
 ShowPRRList, Config, and PartnerRMT. Each sub-branch has its own sub-branch or leaf. ShowCommandList
 is a RMT command collection. ShowPRRList is to list all registered PRRs. Config is to show the 
 configuration info. PartnerRMT shows the info related to its partner.<br>	
<img src="rmtManagement_04.PNG" alt="blank" border="0" vspace=15>	
<h3><a href="#contents">Return to Contents</a></h3>
<hr>

<br>	
<h2><a name="command">RMT Command List</a></h2>
There are three RMT commands: rmtReport, rmtFailOver and rmtCancelFailOver.<br><br>
rmtReport is to report the recorded RMT activities.<br>
<img src="rmtManagement_05.PNG" alt="blank" border="0" vspace=15>
<br><br>
rmtFailOver is to switch over the RMT state. The preconditions are that the IOC is MASTER and 
 the private ethernet connection is OK. You should click the button "call it" after inputting
 exectime. If exectime is null, rmtFailOver will execute immediately. <br>
<img src="rmtManagement_06.PNG" alt="blank" border="0" vspace=15>
<br><br>
rmtCancelFailOver is to cancel rmtFailOver.<br>	
<img src="rmtManagement_07.PNG" alt="blank" border="0" vspace=15>	
<h3><a href="#contents">Return to Contents</a></h3>
<hr>

<br>	
<h2><a name="PRR">PRR List</a></h2>
All registered PRRs are listed. There are 13 PRRs in the following figure. The name with prefix 
"scan" is for scan task. "CAS-TCP" is for Channel Access server. "SEQ" is for sequence. "CCEXEC"
is for Continuous Control Exective(CCE). "SNLEXEC" is for SNL Executive. These 11 PRRs are necessary
for a redudant IOC system normally. DESYRECSYNC is a special PRR to synchronize the internal data of
diglog record which is developed at DESY. CAN2 is a field bus driver.<br>
<img src="rmtManagement_08.PNG" alt="blank" border="0" vspace=15>
<br><br>
After clicking the PRR name the general info is shown on the right side and a sub-branch "MoreInfo"
 is grown on the tree. You can get the deeper info about the PRR when you click "MoreInfo". <br>	
<img src="rmtManagement_09.PNG" alt="blank" border="0" vspace=15>	
<h3><a href="#contents">Return to Contents</a></h3>
<hr>

<br>	
<h2><a name="config">Configuration Info</a></h2>
Config is to show the configuration info. <br>
<img src="rmtManagement_10.PNG" alt="blank" border="0" vspace=15>
<a name=""></a><h3><a href="#contents">Return to Contents</a></h3>
<hr>

<br>	
<h2><a name="partner">Partner Info</a></h2>
PartnerRMT shows the info related to its partner. You can get the partner's configuration info 
if you click the leaf "Config".<br>
<img src="rmtManagement_11.PNG" alt="blank" border="0" vspace=15>
<h3><a href="#contents">Return to Contents</a></h3>
<hr>
</body>
</html>